!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).redirectForLocale=n()}(this,(function(){"use strict";function e(e,n,o){if(n){const i=30484800;document.cookie=`${e}=${n};path=${o};domain=${window.location.hostname};Max-Age=${i}`}else document.cookie=`${e}=;path=${o};domain=${window.location.hostname};expires=Thu, 01 Jan 1970 00:00:01 GMT`}return function(n,o,i,t){if(null==t||!o||o.length<=1)return;const l=t.split("/");let c=l.length<2?"":l[l.length-1];o.includes(c)||(c="");const s=window.navigator.languages;let a=s.find((e=>o.includes(e)));if(!a){const e=o.filter((e=>!e.includes("-")));a=s.map((e=>e.split("-")[0])).find((n=>e.includes(n)))}const d=new RegExp(`\\/${c}\\/?`),u=c?t.replace(d,""):t,f=document.cookie.split("; ").reduce(((e,n)=>{const[o,...i]=n.split("=");return e[o]=i.join("="),e}),{})[i],r=Boolean(f&&o.includes(f)),p=u?u.replace(/\/s$/,""):"/";if(c&&o.includes(c))e(i,r||a!==c?c:null,p);else if(/[?&]redirect=false/.test(window.location.search))e(i,n===a?null:n,p);else if(r){if(f!==n){const e=window.location.pathname.replace(t,`${u}/${f}`);window.location.assign(e)}}else if(a&&a!==n){const e=window.location.pathname.replace(t,`${u}/${a}`);window.location.assign(e)}}}));
